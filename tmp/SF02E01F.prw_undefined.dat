#Include 'Protheus.ch'

/*/{Protheus.doc} SF02E01F
	Validação de usuário para o campo A2_MSBLQL.
	Apenas os usuários informados no parâmetro MV_XALTFOR ou que sejam administrador
	podem realizar bloqueio/desbloqueio.
	
@author franklin.oliveira
@since 08/06/2016

@return lRet, Se Verdadeiro deixa alterar o campo, se Falso nao deixa.
/*/
User Function SF02E01F()

Local aArea  	:= GetArea()
Local cUsrAlt	:= RetCodUsr()
Local cUsrPer	:= GetNewPar("MV_XALTFOR","000000")
Local lIsAdm	:= FwIsAdmin()
Local lRet 		:= .T.	
	
	If ALTERA
		If cUsrAlt $ cUsrPer .Or. lIsAdm  
			lRet := .T.
		Else
			MsgInfo("Este fornecedor só poderá ser bloqueado/desbloqueado pela equipe de cadastro da CAQC/Cadastro","Atenção")
			lRet := .F.
		EndIf
	EndIf
	
	RestArea(aArea)
	
Return ( lRet )