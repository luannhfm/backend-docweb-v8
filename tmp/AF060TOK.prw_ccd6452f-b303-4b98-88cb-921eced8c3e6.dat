#Include 'Protheus.ch'

User Function AF060TOK()
	Local _lRet := .T.
	Local _oModel := ParamIXB[1]
	Local _cCC     
	Local _cItC  
	
	// varivael private utilizada na funcao ChkCCD
	lF040Auto := .T.
	
	If ! IsBlind()  
	   _cCC  := _oModel:GetValue("FieldFN9", "FN9_CCDESD") 
	   _cItC := _oModel:GetValue("FieldFN9", "FN9_ITBEMD")
	    
	   If !U_ChkCCD(_cCC, _cItC)
		   _lRet := .F.
		   ShowHelpDlg( ProcName(), { "Amarração centro de custo item contabil não permitida" , "AÇÃO NÃO PERMITIDA"  }, 5, ;
		   							{ "Informe um centro de custo ou item contabil que tenha amarração entre si. (CTA)" } , 5 )
	   Else
	   	   _oModel:SetValue("FieldFN9", "FN9_ITDEDD",_cItC)
	   EndIf
	   
	Endif   
	
Return(_lRet)

