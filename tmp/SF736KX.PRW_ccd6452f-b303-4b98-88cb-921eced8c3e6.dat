#INCLUDE "PROTHEUS.CH"
#INCLUDE "RWMAKE.CH"
#INCLUDE 'FWMVCDEF.CH'

/*/{Protheus.doc} SF736KX
(long_description)
@author j2a.luizjunior
@since 26/05/2017
@version 1.0
@example
(examples)
@see (links_or_references)
/*/

User Function SF736KX()

	Local oBrowse
	Local aRotina := {}

	//-> Instanciamento da Classe de Browse
	oBrowse := FWMBrowse():New()
        	
	//-> Definição da tabela do Browse
	oBrowse:SetAlias("SA1")
	
	oBrowse:SetMenuDef("SF736KX")
        
	// Titulo da Browse
	oBrowse:SetDescription("Consulta Relacionamento de Cliente")
	
	aRotina := Menudef()
        
	oBrowse:Activate()

Return

/*/{Protheus.doc} MenuDef
(long_description)
@author j2a.luizjunior
@since 26/05/2017
@version 1.0
@example
(examples)
@see (links_or_references)
/*/

Static Function MenuDef()

	Local aRotina := {}
	
	ADD OPTION aRotina Title "Pesquisar"  Action "PesqBrw"              OPERATION 1                    ACCESS 0
	ADD OPTION aRotina Title "Visualizar" Action "ViewDef.MATA030_MVC"  OPERATION MODEL_OPERATION_VIEW ACCESS 0
	ADD OPTION aRotina Title "Consultar"  Action "u_SF737KX()"          OPERATION 4                    ACCESS 0
  
Return(aRotina)

/*/{Protheus.doc} ModelDef
(long_description)
@author j2a.luizjunior
@since 26/05/2017
@version 1.0
@example
(examples)
@see (links_or_references)
/*/

Static Function ModelDef()
                                                                                               
	Local oStruSA1 := FWFormStruct(1,"SA1")
	Local oModel   := MPFormModel():New("F736KX")
	
	oModel:AddFields("SA1UNICO", Nil  , oStruSA1)	
	oModel:SetDescription("Consulta Relacionamento de Cliente")	
	oModel:GetModel("SA1UNICO"):SetDescription("Consulta Relacionamento de Cliente")	
	oModel:SetPrimaryKey({"A1_FILIAL","A1_COD","A1_LOJA"})

Return(oModel) 

/*/{Protheus.doc} ViewDef
(long_description)
@author j2a.luizjunior
@since 26/05/2017
@version 1.0
@example
(examples)
@see (links_or_references)
/*/

Static Function ViewDef()

	Local oModel   := FWLoadModel("SF736KX")
	Local oStruSA1 := FWFormStruct(2,"SA1") 
	Local oView	   := FWFormView():New()
	
	oView:SetModel(oModel)
	oView:AddField("VIEW_SA1", oStruSA1, "SA1UNICO")
	oView:CreateHorizontalBox("UM", 100)
	oView:SetOwnerView("VIEW_SA1" , "UM")

Return(oView)