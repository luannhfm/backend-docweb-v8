#INCLUDE "Protheus.ch"

/*
ÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜ
±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±
±±ÉÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍËÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍËÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍ»±±
±±ºPrograma  ³ PCOA1001 ºAutor  ³Microsiga           º Data ³  01/07/11   º±±
±±ÌÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÊÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÊÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍ¹±±
±±ºDesc.     ³Adiciona botoes na tela de PLANILHA ORCAMENTARIA            º±±
±±º          ³                                                            º±±
±±ÌÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹±±
±±ºUso       ³ CNI                                                        º±±
±±ÈÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼±±
±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±
ßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßß
*/
User Function PCOA1001()

Local _cUserLib  := GetNewPar("MV_XLIBPCO","000000") //_nNivel    := GetNewPar("SI_PCONIV",0)
Local aRetorno   := {}
Local aConsolid  := {	{ "Exp. Planilha"	,"U_SIPCOA3D",0,4},{ "Imp. Planilha","U_SIPCOA3F",0,4},{ "Relatório","U_SIPCOR04(1)",0,4}}  // Consolidacao
Local aIntegr34  := {	{ "Exp. Planilha"	,"U_SIPCOA15",0,4},{ "Imp. Planilha","U_SIPCOA16",0,4}}  // Import/Export para Excel - Requisito 34
Local aPlanning  := {	{ "Finaliza Orc"	,"MsgRun('Finalizando Orçamento. Aguarde...',, {|| U_SIPCOA11() } )",0,3},;
							{"Reabre Orc"		,"MsgRun('Reabrindo Orçamento. Aguarde...',, {|| U_SIPCOA23() } )",0,3},;
							{"Aprova Orc"		,"U_SIPCOA22(1)",0,3},;
							{"Est. Aprovacao"	,"U_SIPCOA22(2)",0,3},;
							{"Consulta UO"		,"MsgRun('Consultando UOs. Aguarde...',, {|| U_SIPCOA13() } )",0,3}} // Controle de aprovação de orçamento - GAP093

aAdd(aRetorno,{"Consolidação",aConsolid,0,6})    		// Grupo de Consolidacao
aAdd(aRetorno,{"Simulação",aIntegr34,0,6})       		// Import/Export dados - Requisito 34

//Jose leite - 27/10/14
/* 	Nao estava sendo possivel realizar o tratamento de nivel, devido aos usuarios terem varios grupos de acesso.
	Por isso decidimos criar o parametro MV_XLIBPCO, nele é informado o codigo dos usuarios chaves pela aprovacao do orcamento
	Solicitado por: Jorge Asencio - UNETEC
*/
IF __cUserId $ _cUserLib //cNivel >= _nNivel
	aAdd(aRetorno,{"Planning",aPlanning,0,6})        		// Controle de aprovação de orçamento - GAP093
ENDIF

aAdd(aRetorno,{"Gerar DUM", "U_SIPCO17D",0,3 })  		// DUM
aAdd(aRetorno,{"Saldo histórico", "U_SIPCOA19",0,3 })	// Saldo Histórico

Return(aRetorno)