#INCLUDE "PROTHEUS.CH"

/*/{Protheus.doc} SF02E02J
Rotina para validar permissao do usuario de alteracao do cadastro
de produtos (SB1) - Executado no Modo de Edicao dos campos B1_XHSTBLQ, A1_XHSTBLQ e A2_XHSTBLQ 

@author 	Jose Leite de Barros Neto
@since 	05/05/2016
@version 	1.0

@return _lReturn, Se Verdadeiro deixa alterar o campo, se Falso nao deixa.

/*/
User Function SF02E02J()
	
	Local _aArea 	:= GetArea()
	Local _lReturn 	:= .F.
	Local _cUsrAlt 	:= __cUserId
	Local _cGrpPer 	:= GetNewPar("MV_XALTPRO","000000")
	Local _aUsrGrp 	:= UsrRetGrp( UsrRetName( _cUsrAlt ), _cUsrAlt )
	Local _lGrpPer 	:= .F.
	
	If cModulo $ "CTB" .OR. __cUserId == '000000'
		_lReturn 	:= .T.
	Else
		For j := 1 To Len(_aUsrGrp)
			If _aUsrGrp[j] $ _cGrpPer
				_lGrpPer := .T.
				Exit
			EndIf
		Next
			
		If _lGrpPer 
			_lReturn := .T.
		Else
			_lReturn := .F.
		EndIf
		
	EndIf
	
	RestArea(_aArea)
	
Return( _lReturn )