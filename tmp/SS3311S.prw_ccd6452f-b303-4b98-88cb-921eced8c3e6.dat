#Include 'Protheus.ch'
#INCLUDE 'FWMVCDEF.CH'

/*/{Protheus.doc} SS3311S
Cadastro de Base de CPF para o SMD.
@author sergio.salustiano
@since 23/09/2015
@version 1.0
@return ${return}, ${return_description}
@example
(examples)
@see (links_or_references)
/*/

User Function SS3311S()

Local oBrowse
oBrowse := FWMBrowse():New()
oBrowse:SetAlias('ZZ2')
oBrowse:SetDescription ('BASE CPF SMD')
oBrowse:Activate()

Return NIL

//-------------------------------------------------------------------
Static Function MenuDef()
Local aRotina := {}

ADD OPTION aRotina TITLE 'Pesquisar'  ACTION 'PesqBrw'             OPERATION 1 ACCESS 0
ADD OPTION aRotina TITLE 'Visualizar' ACTION 'VIEWDEF.SS3311S   '  OPERATION 2 ACCESS 0
ADD OPTION aRotina TITLE 'Incluir'    ACTION 'VIEWDEF.SS3311S   '  OPERATION 3 ACCESS 0
ADD OPTION aRotina TITLE 'Alterar'    ACTION 'VIEWDEF.SS3311S   '  OPERATION 4 ACCESS 0
ADD OPTION aRotina TITLE 'Excluir'    ACTION 'VIEWDEF.SS3311S   '  OPERATION 5 ACCESS 0
ADD OPTION aRotina TITLE 'Imprimir'   ACTION 'VIEWDEF.SS3311S   '  OPERATION 8 ACCESS 0
ADD OPTION aRotina TITLE 'Copiar'     ACTION 'VIEWDEF.SS3311S   '  OPERATION 9 ACCESS 0
Return aRotina
//-------------------------------------------------------------------
Static Function ModelDef()
// Cria a estrutura a ser usada no Modelo de Dados
Local oStruZZ2 := FWFormStruct(1,'ZZ2', /*bAvalCampo*/,/*lViewUsado*/ )
Local oModel

// Cria o objeto do Modelo de Dados
oModel :=MPFormModel() :New ('SS3311M',/*bPreValidacao*/, /*bPosValidacao*/, /*bCommit*/, /*bCancel*/ )

//Adiciona ao Modelo uma estrutura de formulario de edição por campo
oModel:AddFields('ZZ2MASTER',/*cOwner*/, oStruZZ2, /*bPreValidacao*/, /*bPosValidacao*/, /*bCarga*/ )

//Adiciona a Descrição do Modelo de Dados
oModel:SetDescription('BASE CPF SMD' )

oModel:GetModel( 'ZZ2MASTER'):SetDescription('Dados do BASE CPF SMD')

Return oModel

//-------------------------------------------------------------------
Static Function ViewDef()

//Cria um objeto de Modelo de Dados baseado no ModelDef
Local oModel := FWLoadModel ( 'SS3311S' )

//Cria a estrutura a ser usada na View
Local oStruZZ2 := FWFormStruct(2,'ZZ2' )
Local oView
Local cCampos := {}

//Cria o Objeto da View
oView := FWFormView():New()

//Define qual o Modelo de dados será utilizado
oView:SetModel( oModel )

//Adiciona no View um controle do tipo FormField (Antiga Enchoice)
oView:addField( 'VIEW_ZZ2',oStruZZ2, 'ZZ2MASTER' )

//Cria um BOX horizontal para receber elementos da View
oView:CreateHorizontalBox('TELA' , 100 )

//Relaciona o ID da View com o Box para exibição
oView:SetOwnerView( 'VIEW_ZZ2' , 'TELA' )

Return oView

