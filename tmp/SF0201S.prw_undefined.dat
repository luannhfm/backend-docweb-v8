#include 'protheus.ch'
#include 'parmtype.ch'
#Include 'FWMVCDEF.CH'

//PUBLISH USER MODEL REST NAME SF0201S source SF0201S

user function SF0201S()

Local oBrowse
	
	oBrowse:= FWMBrowse():New()
	oBrowse:SetAlias('ZDI')
	oBrowse:SetDescription('Linha Produto Site')
	oBrowse:AddLegend("ZDI_ATIVO=='A'","GREEN" ,"Ativo")
	oBrowse:AddLegend("ZDI_ATIVO=='I'","RED"   ,"Inativo")
	oBrowse:Activate()
	
Return Nil

Static Function MenuDef()
	
	Local aRotina := {}

	ADD OPTION aRotina Title 'Visualizar' Action 'VIEWDEF.SF0201S' OPERATION 2 ACCESS 0
	ADD OPTION aRotina Title 'Incluir'    Action 'VIEWDEF.SF0201S' OPERATION 3 ACCESS 0
	ADD OPTION aRotina Title 'Alterar'    Action 'VIEWDEF.SF0201S' OPERATION 4 ACCESS 0
	ADD OPTION aRotina Title 'Excluir'    Action 'VIEWDEF.SF0201S' OPERATION 5 ACCESS 0
	ADD OPTION aRotina Title 'Imprimir'   Action 'VIEWDEF.SF0201S' OPERATION 8 ACCESS 0
	ADD OPTION aRotina Title 'Copiar'     Action 'VIEWDEF.SF0201S' OPERATION 9 ACCESS 0

Return aRotina

Static Function ModelDef()
	
	Local oStruZDI := FWFormStruct(1,'ZDI')
	Local oModel

	oModel := MPFormModel():New('SF0201SM')
	oModel:AddFields('ZDIMASTER',/*cOwner*/,oStruZDI)
	oModel:SetDescription('Linha Produto Site')
	oModel:GetModel('ZDIMASTER'):SetDescription('Cadastro Linha Produto Site')
	oModel:SetPrimaryKey({"ZDI_FILIAL","ZDI_CODIGO"})

Return oModel

Static Function ViewDef()
	
	Local oModel := FWloadModel('SF0201S')
	Local oStruZDI := FWFormStruct(2,'ZDI')
	Local oView := FWFormView():New()

	oView:SetModel(oModel)
	oView:AddField('VIEW_ZDI',oStruZDI,'ZDIMASTER')
	oView:CreateHorizontalBox('TELA',100)
	oView:SetOwnerView('VIEW_ZDI', 'TELA')

Return oView
	
