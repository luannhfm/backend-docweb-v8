#include 'protheus.ch'
#include 'parmtype.ch'

/*/{Protheus.doc} ITEM
Ponto de entrada MVC para o cadastro de produtos (MATA010)
@author Franklin de Brito de Oliveira
@since 15/01/2020
@return xRet, retorno de acordo com o ponto de entrada

@type function
/*/
user function ITEM()
Local aParam     := PARAMIXB
Local xRet       := .T.
Local oObj       := ''
Local cIdPonto   := ''
Local cIdModel   := ''
Local lIsGrid    := .F.

Local nLinha     := 0
Local nQtdLinhas := 0

	If aParam <> NIL
		oObj       := aParam[1]
		cIdPonto   := aParam[2]
		cIdModel   := aParam[3]
		cClasse    := IIf( oObj <> Nil , oObj:ClassName() , "" )
		      
		If( cIdPonto == "MODELPOS" )
	        //Chamada na validação total do modelo (MODELPOS)
	        xRet := .T.
	    ElseIf( cIdPonto == "FORMPOS" )
	        //Chamada na validação total do formulário (FORMPOS)	            
	        If( cClasse == "FWFORMGRID" )
	            xRet := .T.
	        ElseIf cClasse == "FWFORMFIELD"
	            xRet := .T.
	        EndIf
	    ElseIf( cIdPonto == "FORMLINEPRE" )
	        //Chamada na pre validação da linha do formulário (FORMLINEPRE).
	        If( aParam[ 5 ] == "DELETE" )
	            xRet := .T.
	        EndIf
	    ElseIf( cIdPonto == "FORMLINEPOS" )
	        //Chamada na validação da linha do formulário (FORMLINEPOS)." +; CRLF
	        xRet := .T.
	    ElseIf( cIdPonto == "MODELCOMMITTTS" )
	        //Chamada apos a gravação total do modelo e dentro da transação (MODELCOMMITTTS).
	        U_MT010ALT()
	        xRet := .T.
		ElseIf( cIdPonto == "MODELCOMMITNTTS" )
	        //Chamada apos a gravação total do modelo e fora da transação (MODELCOMMITNTTS).
	    ElseIf( cIdPonto == "FORMPRE" )
			xRet := .T.
	    ElseIf( cIdPonto == "FORMCOMMITTTSPRE" )
			//Antes da gravação da tabela do formulário. (FORMCOMMITTTSPRE).
			xRet := .T.
	    ElseIf cIdPonto == "FORMCOMMITTTSPOS"
	        //Chamada apos a gravação da tabela do formulário (FORMCOMMITTTSPOS).
	        xRet := .T.	       
	    ElseIf cIdPonto == "MODELCANCEL"
	        //Chamada no Botão Cancelar (MODELCANCEL).
	        xRet := .T.
	    ElseIf cIdPonto == "BUTTONBAR"
	    	//Para a inclusão de botões na ControlBar
	    EndIf
	EndIf

Return xRet