#Include 'Protheus.ch'

/*/{Protheus.doc} ALTDATAL
Ponto de Entrada que permite alterar o conteúdo da variável dDataLanc. 
Retorna uma data para ser atribuída como data de lançamento.

@type 		function
@author 	Jose Leite de Barros Neto
@since 	26/11/2015
@version 1.0
@return 	_dDtLcto, Data do Lancamento
@see 
http://tdn.totvs.com/pages/releaseview.action?pageId=6068741
/*/
User Function ALTDATAL()
	
	Local _aParam	:= PARAMIXB
	Local _aArea 	:= GetArea()
	Local _dDtLcto 	:= Iif(_aParam[1] == Nil,dDatabase,_aParam[1])
	Local _cRotina 	:= Upper(Alltrim(_aParam[2]))
	
	If _cRotina == 'CNTA290'  //AllTrim(FunName()) == 'CNTA290'
		If .Not. Empty(CN9->CN9_XCTRRM) //SGE - RM Classis
			_dDtLcto := CNW->CNW_DTPREV
		EndIf
	EndIf
	
	RestArea(_aArea)
	
Return( _dDtLcto )