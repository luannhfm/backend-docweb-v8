#include 'protheus.ch'
#include 'parmtype.ch'
#Include 'FWMVCDEF.CH'

//PUBLISH USER MODEL REST NAME SF0202S source SF0202S
//PUBLISH USER MODEL REST NAME MATA010 SOURCE MATA010

user function SF0202S()
Local oBrowse
	
	oBrowse:= FWMBrowse():New()
	oBrowse:SetAlias('ZDJ')
	oBrowse:SetDescription('Categoria Produto Site')
	oBrowse:AddLegend("ZDJ_ATIVO=='A'","GREEN" ,"Ativo")
	oBrowse:AddLegend("ZDJ_ATIVO=='I'","RED"   ,"Inativo")
	oBrowse:Activate()
	
Return Nil

Static Function MenuDef()
	
	Local aRotina := {}

	ADD OPTION aRotina Title 'Visualizar' Action 'VIEWDEF.SF0202S' OPERATION 2 ACCESS 0
	ADD OPTION aRotina Title 'Incluir'    Action 'VIEWDEF.SF0202S' OPERATION 3 ACCESS 0
	ADD OPTION aRotina Title 'Alterar'    Action 'VIEWDEF.SF0202S' OPERATION 4 ACCESS 0
	ADD OPTION aRotina Title 'Excluir'    Action 'VIEWDEF.SF0202S' OPERATION 5 ACCESS 0
	ADD OPTION aRotina Title 'Imprimir'   Action 'VIEWDEF.SF0202S' OPERATION 8 ACCESS 0
	ADD OPTION aRotina Title 'Copiar'     Action 'VIEWDEF.SF0202S' OPERATION 9 ACCESS 0

Return aRotina

Static Function ModelDef()
	
	Local oStruZDJ := FWFormStruct(1,'ZDJ')
	Local oModel

	oModel := MPFormModel():New('SF0202SM')
	oModel:AddFields('ZDJMASTER',/*cOwner*/,oStruZDJ)
	oModel:SetDescription('Categoria Produto Site')
	oModel:GetModel('ZDJMASTER'):SetDescription('Categoria Produto Site')
	oModel:SetPrimaryKey({"ZDJ_FILIAL","ZDJ_CODIGO"})

Return oModel

Static Function ViewDef()
	
	Local oModel := FWloadModel('SF0202S')
	Local oStruZDJ := FWFormStruct(2,'ZDJ')
	Local oView := FWFormView():New()

	oView:SetModel(oModel)
	oView:AddField('VIEW_ZDJ',oStruZDJ,'ZDJMASTER')
	oView:CreateHorizontalBox('TELA',100)
	oView:SetOwnerView('VIEW_ZDJ', 'TELA')

Return oView
	
return