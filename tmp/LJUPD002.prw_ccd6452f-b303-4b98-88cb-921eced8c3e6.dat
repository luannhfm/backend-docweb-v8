#INCLUDE "TOTVS.CH"
#INCLUDE "PROTHEUS.CH"


/*/{Protheus.doc} LJUPD002
@description Atualiza dicionario para a Customização: Parametrização para Venda de Certificados via CRM. 

@author  Helitom Silva
@since   16/09/2019
/*/
User Function LJUPD002()

	Default oProcess  := Nil
	Default cEmpresa  := "01"

	oProcess:SetRegua2( 10 )

	oProcess:IncRegua2( 'Atualizando SX1')
	ExecSX1()

	oProcess:IncRegua2( 'Atualizando SX2')
	ExecSX2(cEmpresa)	
	
	oProcess:IncRegua2( 'Atualizando SX3')
	ExecSX3()

	oProcess:IncRegua2( 'Atualizando SX4')
	ExecSX4()

	oProcess:IncRegua2( 'Atualizando SX5')
	ExecSX5()

	oProcess:IncRegua2( 'Atualizando SX6')
	ExecSX6()

	oProcess:IncRegua2( 'Atualizando SX7')
	ExecSX7()

	oProcess:IncRegua2( 'Atualizando SIX')
	ExecSIX()
	
	oProcess:IncRegua2( 'Atualizando SXB')
	ExecSXB()	

	oProcess:IncRegua2( 'Atualizando SXA')
	ExecSXA()

Return


/*/{Protheus.doc} ExecSX1
@description Atualiza dicionario SX1

@author  Helitom Silva
@since   29/08/2019
/*/
Static Function ExecSX1()
Return


/*/{Protheus.doc} ExecSX2
@description Atualiza dicionario SX2 - Tabelas

@author  Helitom Silva
@since   29/08/2019
/*/
Static Function ExecSX2(cEmpresa)
Return


/*/{Protheus.doc} ExecSX3
@description Atualiza dicionario SX3 - Campos das Tabelas

@author  Helitom Silva
@since   29/08/2019
/*/
Static Function ExecSX3()

    //SX3 := UPDSX3():CREATE()
    //SX3:CONFIRM()

Return


/*/{Protheus.doc}ExecSX4
@description Atualiza dicionario SX1

@author  Helitom Silva
@since   29/08/2019
/*/
Static Function ExecSX4()
Return


/*/{Protheus.doc} ExecSX5
@description Atualiza dicionario SX5

@author  Helitom Silva
@since   29/08/2019
/*/
Static Function ExecSX5()
    
	//SX5 := UPDSX5():CREATE()
	
	// Sequencia de Numeração de Notas de Serviços da Serie 8
	//SX5:ADDITENS('04MT0001', '01', '8', '000000001')
     	    	        	
	//SX5:CONFIRM()
	
Return


/*/{Protheus.doc}ExecSX6
@description Atualiza dicionario SX6 - Parametros

@author  Helitom Silva
@since   29/08/2019
/*/
Static Function ExecSX6()

	Local nTamFil := Len(cFilAnt)
	
	SX6 := UPDSX6():CREATE()
	
	// Indica o prefixo dos títulos de pagamento antecipado das cauções.
	SX6:CLONE('MV_CAUCPRF', 'MV_CAUCPRF')
	SX6:S('CONTEUD', 'CPX')
	
	// Permite o rateio e abatimento dos valores de adiantamento na geração do pedido de compra ou venda.
	SX6:CLONE('MV_CNADIA', 'MV_CNADIA')
	SX6:S('CONTEUD', 'S')
	
	// Indica se permite o faturamento de excedentes na medição do contrato.
	SX6:CLONE('MV_CNBTEXC', 'MV_CNBTEXC')
	SX6:S('CONTEUD', 'N')
	SX6:S('CONTEUD', 'S')
	
	// Dias de Competência da Condição de Pagamento do Cronograma.
	SX6:CLONE('MV_CNCOMCP', 'MV_CNCOMCP')
	SX6:S('CONTEUD', '30')
	
	// Condição de Pagamento por Competência? (S/N)
	SX6:CLONE('MV_CNCPCMP', 'MV_CNCPCMP')
	SX6:S('CONTEUD', 'S')
	
	// Informa se valida documentos do SIGAGCT, na alteração da situação do contrato, considerando o banco
	SX6:CLONE('MV_CNDOCBC', 'MV_CNDOCBC')
	SX6:S('CONTEUD', 'N')
	
	// Ativa o controle de alçada para PC gerado pela medição de contrato. 1- Ativa; 2- Desativa; 3- De acordo com alçada da medição;
	SX6:CLONE('MV_CNDPCAL', 'MV_CNDPCAL')
	SX6:S('CONTEUD', '2')
	
	// Indica se deve ser contabilizada a var. monetária de títulos provisórios gerados pelo módulo de Gestão de Contratos pela rotina FINA350.
	SX6:CLONE('MV_CNFI350', 'MV_CNFI350')
	SX6:S('CONTEUD', '.F.')
	
	// Indica se permite a configuração de parcelas e medições fora do período.
	SX6:CLONE('MV_CNFVIGE', 'MV_CNFVIGE')
	SX6:S('CONTEUD', 'N')
	
	// Informa se o preço dos produtos no cadastro de planilha será sugerido pelo preço de compra (B1_UPRC).T. ou pelo custo standard (B1_CUSTD) .F.
	SX6:CLONE('MV_CNPRECO', 'MV_CNPRECO')
	SX6:S('CONTEUD', '.T.')
	
	// Tipo de rateio dos descontos da medição. 1 = Subtrai do valor unitário. 2 = Soma no valor de descontos do item.
	SX6:CLONE('MV_CNRATE', 'MV_CNRATE')
	SX6:S('CONTEUD', '2')
	
	// [SESI PARK]
	// Configuração do prefixo das movimentações financeiras/contas a receber a serem geradas pelo Contrato/Faturamento.
	SX6:CLONE('MV_1DUPREF', 'MV_1DUPREF')
	SX6:S('CONTEUD', 'Iif(AllTrim(SF2->F2_SERIE)="8","RMF",SF2->F2_SERIE)')
	SX6:S('FIL', '02MT0012')
	
	// [IEL]
	// Configuração do prefixo das movimentações financeiras/contas a receber a serem geradas pelo Contrato/Faturamento.
	SX6:CLONE('MV_1DUPREF', 'MV_1DUPREF')
	SX6:S('CONTEUD', 'Iif(AllTrim(SF2->F2_SERIE)="8","CMF",SF2->F2_SERIE)')
	SX6:S('FIL', '04MT0001')
				
	SX6:CONFIRM()
	
Return


/*/{Protheus.doc} ExecSX7
@description Atualiza dicionario SX7 -  Gatilhos

@author  Helitom Silva
@since   29/08/2019
/*/
Static Function ExecSX7()

	//SX7 := UPDSX7():CREATE()
	//SX7:CONFIRM()
	
Return


/*/{Protheus.doc}ExecSIX
@description Atualiza dicionario SIX -  Indices

@author  Helitom Silva
@since   29/08/2019
/*/
Static Function ExecSIX()
Return


/*/{Protheus.doc}ExecSXA
@description Atualiza dicionario SXA

@author  Helitom Silva
@since   29/08/2019
/*/
Static Function ExecSXA()
Return


/*/{Protheus.doc} ExecSXB
@description Atualiza dicionario SXB

@author  Helitom Silva
@since   29/08/2019
/*/
Static Function ExecSXB()
Return