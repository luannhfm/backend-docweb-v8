#Include 'Protheus.ch'
#Include 'FWMVCDef.ch'

/*/{Protheus.doc} SF69A18X
    (Cadastro para a tabela de Vlr. Máximo Hora/Aula)
    @type  Function
    @author Jorge Elias Tavares da Silva (TOTVS)
    @since 31/08/2022
    @version version
    @param param_name, param_type, param_descr
    @return return_var, return_type, return_description
    @example
    (examples)
    @see (links_or_references)
/*/
User Function SF69A18X
Local oBrowse
Private aRotina := MenuDef()
// Instanciamento da Classe de Browse
oBrowse := FWMBrowse():New()
// Definição da tabela do Browse
oBrowse:SetAlias('ZG8')
// Definição da legenda
// oBrowse:AddLegend( "ZA0_TIPO=='1'", "YELLOW", "Autor" )
// oBrowse:AddLegend( "ZA0_TIPO=='2'", "BLUE" , "Interprete" )

// Definição de filtro
// oBrowse:SetFilterDefault( "ZA0_TIPO=='1'" )
// Titulo da Browse
oBrowse:SetDescription('Cadastro Vlr. Máximo Hora/Aula')
// Opcionalmente pode ser desligado a exibição dos detalhes
//oBrowse:DisableDetails()
// Ativação da Classe
oBrowse:Activate()
Return NIL

/*/{Protheus.doc} MenuDef
    (long_description)
    @type  Function
    @author user
    @since 31/08/2022
    @version version
    @param param_name, param_type, param_descr
    @return return_var, return_type, return_description
    @example
    (examples)
    @see (links_or_references)
/*/
Static Function MenuDef
Local aRotina := {}
ADD OPTION aRotina Title 'Visualizar'   Action 'VIEWDEF.SF69A18X' OPERATION 2 ACCESS 0
ADD OPTION aRotina Title 'Incluir'      Action 'VIEWDEF.SF69A18X' OPERATION 3 ACCESS 0
ADD OPTION aRotina Title 'Alterar'      Action 'VIEWDEF.SF69A18X' OPERATION 4 ACCESS 0
ADD OPTION aRotina Title 'Excluir'      Action 'VIEWDEF.SF69A18X' OPERATION 5 ACCESS 0
ADD OPTION aRotina Title 'Imprimir'     Action 'VIEWDEF.SF69A18X' OPERATION 8 ACCESS 0
ADD OPTION aRotina Title 'Copiar'       Action 'VIEWDEF.SF69A18X' OPERATION 9 ACCESS 0
Return aRotina

/*/{Protheus.doc} ModelDef
    (long_description)
    @type  Function
    @author user
    @since 31/08/2022
    @version version
    @param param_name, param_type, param_descr
    @return return_var, return_type, return_description
    @example
    (examples)
    @see (links_or_references)
/*/
Static Function ModelDef()
// Cria a estrutura a ser usada no Modelo de Dados
Local oStruZG8 := FWFormStruct( 1, 'ZG8' )
Local oModel // Modelo de dados que será construído
// Cria o objeto do Modelo de Dados
oModel := MPFormModel():New('SF69X18X' )
// Adiciona ao modelo um componente de formulário
oModel:AddFields( 'ZG8MASTER', /*cOwner*/, oStruZG8)
// Adiciona a descrição do Modelo de Dados
oModel:SetDescription( 'Modelo Vlr. Máximo Hora/Aula' )
// Adiciona a descrição do Componente do Modelo de Dados
oModel:GetModel( 'ZG8MASTER' ):SetDescription( 'Vlr. Máximo Hora/Aula' )
oModel:SetPrimaryKey( { "ZG8_FILIAL", "ZG8_COD" } )

// Retorna o Modelo de dados
Return oModel

/*/{Protheus.doc} ViewDef
    (long_description)
    @type  Function
    @author user
    @since 31/08/2022
    @version version
    @param param_name, param_type, param_descr
    @return return_var, return_type, return_description
    @example
    (examples)
    @see (links_or_references)
/*/
Static Function ViewDef()
// Cria um objeto de Modelo de dados baseado no ModelDef() do fonte informado
Local oModel := FWLoadModel( 'SF69A18X' )
// Cria a estrutura a ser usada na View
Local oStruZG8 := FWFormStruct( 2, 'ZG8' )
// Interface de visualização construída
Local oView
// Cria o objeto de View
oView := FWFormView():New()
// Define qual o Modelo de dados será utilizado na View
oView:SetModel( oModel )
// Adiciona no nosso View um controle do tipo formulário
// (antiga Enchoice)
oView:AddField( 'VIEW_ZG8', oStruZG8, 'ZG8MASTER' )

// Criar um "box" horizontal para receber algum elemento da view
oView:CreateHorizontalBox( 'TELA' , 100 )
// Relaciona o identificador (ID) da View com o "box" para exibição
oView:SetOwnerView( 'VIEW_ZG8', 'TELA' )
// Retorna o objeto de View criado
Return oView
