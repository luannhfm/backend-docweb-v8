#include 'protheus.ch'
            
//-----------------------------------------------------                                                      
/*/{Protheus.doc} MT100GE2
Ponto de entrada chamado dentro do processo de gravação
do título a pagar.

Tratativa:
Grava Código de Barras informado pelo usuário no título

@author Allan da Silva Faria
@since 20/07/2016
@version 1.0
@return Nil
/*/
//-----------------------------------------------------
User Function MT100GE2()
Local _aColsSE2 := PARAMIXB[1]		//-- aCols do Títulos que está sendo gravado
Local _nOpc		:= PARAMIXB[2]		//-- 1= Inclusão, 2=Exclusao
Local _aHeadSE2 := PARAMIXB[3]		//-- Header do grid do títulos a pagar
Local _nPCodBar := AsCan(_aHeadSE2,{|XX| AllTrim(XX[2]) == "E2_CODBAR" })

//----------------------------
//-- Atualiza na inclusão
//----------------------------	
If (_nOpc == 1 .And. _nPCodBar > 0)
	
	//----------------------------------
	//-- Grava Código do Barras
	//----------------------------------
	SE2->E2_CODBAR := _aColsSE2[_nPCodBar]
	
EndIf

Return(Nil)
