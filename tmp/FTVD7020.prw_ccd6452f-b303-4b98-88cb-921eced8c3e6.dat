#Include 'Protheus.ch'

/*/{Protheus.doc} LJ7020
@description Habilita botoes de formas de pagamentos na tela de definicao de pagamentos do Faturamento (Venda Direta). 

@author Helitom Silva
@since  02/09/2019

@return lRet, Logico, Se retornar .T. habilita botão a aparecer entre as formas de Pagamento.

/*/
User Function FTVD7020()

    Local cEstat := U_SFGN001A(ProcName(0), "FTVD7020")
	Local lRet	 := .F.
	Local cDesc  := ParamIXB[1]
	Local aButFP := {}

    // Sesi Park (Venda de Day Use)
    If ( cFilAnt = '02MT0012' )
    
		aAdd(aButFP, 'DINHEIRO')
		aAdd(aButFP, 'CARTAO DE CREDITO')
		aAdd(aButFP, 'CARTAO DE DEBITO')
		aAdd(aButFP, 'ZERAR')
		aAdd(aButFP, 'GRATUITO')
	
	EndIf
	
    // IEL (Venda de Certificados)
    If ( cFilAnt = '04MT0001' )
    	
		aAdd(aButFP, 'DINHEIRO')
		aAdd(aButFP, 'CARTAO DE CREDITO')
		aAdd(aButFP, 'CARTAO DE DEBITO')
		aAdd(aButFP, 'CHEQUE')
		aAdd(aButFP, 'BOLETO')
		aAdd(aButFP, 'TRANSFERENCIA')
		aAdd(aButFP, 'ZERAR')
	
	EndIf
	
    // Senai - 03MT0018 - Alterado 24/09/2021
    If ( cFilAnt = '03MT0018' )
	// Continua mostrando o botão DINHEIRO
		//aAdd(aButFP, 'DINHEIRO')
		aAdd(aButFP, 'BOLETO')
    	aAdd(aButFP, 'CARTAO DE CREDITO')
		aAdd(aButFP, 'CARTAO DE DEBITO')
		aAdd(aButFP, 'ZERAR')
	
	EndIf
	
	If aScan(aButFP, {|X| X $ Upper(AllTrim(cDesc))}) > 0
		lRet := .T.	
	EndIf
	
Return lRet

