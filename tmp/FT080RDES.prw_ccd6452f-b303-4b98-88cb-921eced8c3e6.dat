#INCLUDE 'PROTHEUS.CH'

/*/{Protheus.doc} FT080RDES
PE que obtém o percentual de desconto.
@author  Helitom Silva
@since   27/08/2019
@version undefined
@return nRet, Numerico, Percentual de Desconto do Produto
@see (http://tdn.totvs.com/pages/releaseviw.action?pageId=6784071)
/*/
User Function FT080RDES()
	
	Local nRet 	     := 0
	Local aOldArea   := GetArea() 
	Local cProduto   := PARAMIXB[1] // Codigo do Produto
	Local cCliente   := PARAMIXB[2] // Codigo do Cliente
	Local cLoja	     := PARAMIXB[3] // Loja do Cliente
	Local cTabPad    := PARAMIXB[4] // Codigo da Tabela de Preço
	Local nQuant     := PARAMIXB[5] // Quantidade
	Local cCondPg    := PARAMIXB[6] // Codigo da Condição de Pagamento
	Local cFormPg  	 := PARAMIXB[7] // Forma de Pagamento
	Local nTipo    	 := PARAMIXB[8] // Tipo de Desconto (1 - Desconto por Item, 2 - Desconto por Total )
	Local nTotDesc	 := 0
	Local nTotVlIt	 := 0
	Local nPosVlUnit := 0
	Local nPosVlItem := 0
	Local nPosVlDesc := 0
	Local nPosVlDesc := 0
	Local nPosVlDesc := 0
	  
	If FunName() $ 'FATA701/LOJA701' .and. nTipo = 1
	
		nRet := U_fPutDesc(cFilAnt, cProduto, cCliente, cLoja)
	
	EndIf
	
	RestArea(aOldArea)

Return nRet
