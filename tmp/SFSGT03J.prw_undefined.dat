#INCLUDE 'PROTHEUS.CH'
#INCLUDE 'FWMVCDEF.CH'

/*/{Protheus.doc} SFSGT03J
Cadastro de Unidade SGT - SGT SENAI

@type 		function
@author 	Jose Leite de Barros Neto
@since 	18/11/2015
@version 	1.0
/*/
User Function SFSGT03J()
	
	Local oBrowse
	
	oBrowse := FWMBrowse():New()
	oBrowse:SetAlias('ZWC')
	oBrowse:SetDescription ('Cadastro de Unidade SGT')
	oBrowse:Activate()

Return NIL

//-------------------------------------------------------------------
Static Function MenuDef()
	
	Local aRotina := {}

	ADD OPTION aRotina TITLE 'Pesquisar'  ACTION 'PesqBrw'           OPERATION 1 ACCESS 0
	ADD OPTION aRotina TITLE 'Visualizar' ACTION 'VIEWDEF.SFSGT03J'  OPERATION 2 ACCESS 0
	ADD OPTION aRotina TITLE 'Incluir'    ACTION 'VIEWDEF.SFSGT03J'  OPERATION 3 ACCESS 0
	ADD OPTION aRotina TITLE 'Alterar'    ACTION 'VIEWDEF.SFSGT03J'  OPERATION 4 ACCESS 0
	ADD OPTION aRotina TITLE 'Excluir'    ACTION 'VIEWDEF.SFSGT03J'  OPERATION 5 ACCESS 0
	ADD OPTION aRotina TITLE 'Imprimir'   ACTION 'VIEWDEF.SFSGT03J'  OPERATION 8 ACCESS 0
	ADD OPTION aRotina TITLE 'Copiar'     ACTION 'VIEWDEF.SFSGT03J'  OPERATION 9 ACCESS 0
	
Return aRotina

//-------------------------------------------------------------------
Static Function ModelDef()
	
	// Cria a estrutura a ser usada no Modelo de Dados
	Local oStruZWC := FWFormStruct(1,'ZWC', /*bAvalCampo*/,/*lViewUsado*/ )
	Local oModel

	// Cria o objeto do Modelo de Dados
	oModel := MPFormModel():New('SFSGT03M',/*bPreValidacao*/, /*bPosValidacao*/, /*bCommit*/, /*bCancel*/ )

	//Adiciona ao Modelo uma estrutura de formulario de edição por campo
	oModel:AddFields('ZWCMASTER',/*cOwner*/, oStruZWC, /*bPreValidacao*/, /*bPosValidacao*/, /*bCarga*/ )

	//Adiciona a Descrição do Modelo de Dados
	oModel:SetDescription('Cadastro de Unidade SGT' )

	oModel:GetModel('ZWCMASTER'):SetDescription('Dados do Cadastro de Unidade SGT')
	
	oModel:SetPrimaryKey( { "ZWC_FILIAL", "ZWC_CODIGO" } )

Return oModel

//-------------------------------------------------------------------
Static Function ViewDef()

	//Cria um objeto de Modelo de Dados baseado no ModelDef
	Local oModel := FWLoadModel('SFSGT03J')

	//Cria a estrutura a ser usada na View
	Local oStruZWC := FWFormStruct(2,'ZWC')
	Local oView
	Local cCampos := {}

	//Cria o Objeto da View
	oView := FWFormView():New()

	//Define qual o Modelo de dados será utilizado
	oView:SetModel( oModel )

	//Adiciona no View um controle do tipo FormField (Antiga Enchoice)
	oView:addField( 'VIEW_ZWC',oStruZWC, 'ZWCMASTER' )

	//Cria um BOX horizontal para receber elementos da View
	oView:CreateHorizontalBox('TELA' , 100 )

	//Relaciona o ID da View com o Box para exibição
	oView:SetOwnerView( 'VIEW_ZWC' , 'TELA' )

Return oView