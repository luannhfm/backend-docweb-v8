#Include 'Protheus.ch'
#Include 'FWMVCDEF.CH'


/*/{Protheus.doc} SF0103S
	browse MVC da rotina de histórico de bens duráveis
	
@author Sergio Ricardo Leite Salustiano 
@since 14/09/2016

@type function
/*/
User Function SF0103S()
	
	Local oBrowse
	
	oBrowse:= FWMBrowse():New()
	oBrowse:SetAlias('ZEB')
	oBrowse:SetDescription('Movimentação de Bens')
	//oBrowse:AddLegend("ZEB_ATIVO=='A'","GREEN" ,"Ativo")
	//oBrowse:AddLegend("ZEB_ATIVO=='I'","RED"   ,"Inativo")
	oBrowse:Activate()
	
Return Nil

Static Function MenuDef()
	
	Local aRotina := {}

	ADD OPTION aRotina Title 'Visualizar' Action 'VIEWDEF.SF0103S' OPERATION 2 ACCESS 0
	ADD OPTION aRotina Title 'Incluir'    Action 'VIEWDEF.SF0103S' OPERATION 3 ACCESS 0
	ADD OPTION aRotina Title 'Alterar'    Action 'VIEWDEF.SF0103S' OPERATION 4 ACCESS 0
	ADD OPTION aRotina Title 'Excluir'    Action 'VIEWDEF.SF0103S' OPERATION 5 ACCESS 0
	ADD OPTION aRotina Title 'Imprimir'   Action 'VIEWDEF.SF0103S' OPERATION 8 ACCESS 0
	ADD OPTION aRotina Title 'Copiar'     Action 'VIEWDEF.SF0103S' OPERATION 9 ACCESS 0

Return aRotina

Static Function ModelDef()
	
	Local oStruZEB := FWFormStruct(1,'ZEB')
	Local oModel

	oModel := MPFormModel():New('SF0103SM')
	oModel:AddFields('ZEBMASTER',/*cOwner*/,oStruZEB)
	oModel:SetDescription('Movimentação de Bens')
	oModel:GetModel('ZEBMASTER'):SetDescription('Movimentação de Bens')
	oModel:SetPrimaryKey({"ZEB_FILIAL","ZEB_CODBEM"})

Return oModel

Static Function ViewDef()
	
	Local oModel := FWloadModel('SF0103S')
	Local oStruZEB := FWFormStruct(2,'ZEB')
	Local oView := FWFormView():New()

	oView:SetModel(oModel)
	oView:AddField('VIEW_ZEB',oStruZEB,'ZEBMASTER')
	oView:CreateHorizontalBox('TELA',100)
	oView:SetOwnerView('VIEW_ZEB', 'TELA')

Return oView