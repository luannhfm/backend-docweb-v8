#INCLUDE "PROTHEUS.CH"
#INCLUDE 'FWMVCDEF.CH'

/*/{Protheus.doc} SF7303J
Cadastro de Liberadores de Viabilidade

@author 	Jose Leite de Barros Neto
@since 	29/02/2016
@version 	1.0

@return 	T, Logico
/*/
User Function SF7303J()
	
	Local oBrowse	:= Nil
	Private aRotina	:= MenuDef()
	
	//Cria o Browse
	oBrowse := FWMBrowse():New()
	oBrowse:SetAlias('ZC4')
	oBrowse:SetDescription('Cadastro de Liberadores de Viabilidade')
	
	oBrowse:Activate()
	
Return( Nil )

/** {Protheus.doc} MenuDef
Funcao de definicao do Menu

@author: 	Jose Leite de Barros Neto
@since: 	29/02/2016
@Uso: 		SFIEMT
*/
Static Function MenuDef()
	
	Local _aRotina := {}
	
	ADD OPTION _aRotina TITLE "Pesquisar"		ACTION "PESQBRW"        		OPERATION 1 ACCESS 0
	ADD OPTION _aRotina TITLE "Visualizar"	ACTION "VIEWDEF.SF7303J" 	OPERATION 2 ACCESS 0
	ADD OPTION _aRotina TITLE "Incluir"  		ACTION "VIEWDEF.SF7303J" 	OPERATION 3 ACCESS 0
	ADD OPTION _aRotina TITLE "Alterar"		ACTION "VIEWDEF.SF7303J" 	OPERATION 4 ACCESS 0
	ADD OPTION _aRotina TITLE "Excluir"   	ACTION "VIEWDEF.SF7303J" 	OPERATION 5 ACCESS 0
	ADD OPTION _aRotina TITLE "Imprimir"		ACTION "VIEWDEF.SF7303J" 	OPERATION 8 ACCESS 0  
	ADD OPTION _aRotina TITLE "Copiar"			ACTION "VIEWDEF.SF7303J" 	OPERATION 9 ACCESS 0

Return( _aRotina )

/** {Protheus.doc} ModelDef
Define o modelo de dados do combo de produtos

@author: 	Jose Leite de Barros Neto
@since: 	29/02/2016
@Uso: 		SFIEMT
*/
Static Function ModelDef()
	
	Local oModel
	Local oStruZC4	:= FWFormStruct(1,'ZC4',/*bAvalCampo*/,/*lViewUsado*/)

	oModel := MPFormModel():New('SF7303JM',/*bPreValidacao*/,/*bPosValidacao*/,/*bCommit*/,/*bCancel*/)
	oModel:AddFields('ZC4MASTER', /*cOwner*/,oStruZC4, /*bPreValidacao*/, /*bPosValidacao*/, /*bCarga*/ )
	oModel:SetDescription('Cadastro de Liberadores de Viabilidade')
	
	oModel:SetPrimaryKey( { "ZC4_FILIAL", "ZC4_CODUSR" } )
	
Return( oModel )

/** {Protheus.doc} ViewDef
Define a interface para cadastro de combos de produtos em MVC.

@author: 	Jose Leite de Barros Neto
@since: 	29/02/2016
@Uso: 		SFIEMT
*/
Static Function ViewDef()
	
	Local oView
	Local oModel   := FWLoadModel('SF7303J')
	Local oStruZC4 := FWFormStruct(2,'ZC4')
	
	//Cria o Objeto da View
	oView := FWFormView():New()

	//Define qual o Modelo de dados será utilizado
	oView:SetModel( oModel )

	//Adiciona no View um controle do tipo FormField (Antiga Enchoice)
	oView:addField( 'VIEW_ZC4',oStruZC4, 'ZC4MASTER' )

	//Cria um BOX horizontal para receber elementos da View
	oView:CreateHorizontalBox('TELA' , 100 )

	//Relaciona o ID da View com o Box para exibição
	oView:SetOwnerView( 'VIEW_ZC4' , 'TELA' )
	
Return( oView )