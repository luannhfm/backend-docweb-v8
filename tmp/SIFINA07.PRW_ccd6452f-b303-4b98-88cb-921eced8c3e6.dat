//控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控?
//控矬闡闡闡闡鐃闡闡闡闡闡闡薩闡闡闡薩闡闡闡闡闡闡闡闡闡闡鐃闡闡闡薩闡闡闡闡闡闡闡闡闡膨?
//控蚶un��o    袖IFINA07    ?Autor ?Wanderley Monteiro   ?Data ?05.01.2012        陰?
//控藥闡闡闡闡霰闡闡闡闡闡闡謐闡闡闡謐闡闡闡闡闡闡闡闡闡闡鐘闡闡闡謐闡闡闡闡闡闡闡闡闡敢?
//控蛇escri��o ?Ponto de Entrada para validar a tranferencia de t癃ulos              陰?
//控?         ?                                                                     陰?
//控藥闡闡闡闡霰闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡敢?
//控袒etorno   ?T. ou .F.                                                            陰?
//控藥闡闡闡闡霰闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡敢?
//控?Uso      逍onto de entrada FA060OK - FINA060                                    陰?
//控斂闡闡闡闡鐘闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡棱?
//控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控?
//葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔?

User function SIFINA07()

Local lRet
Local cSituacao:= PARAMIXB[1]
Local cSitPrt  := GetMV("SI_PROTEST")

Public cSF7_TpPrt:= space(3)

//lRet :=  if(cSituacao="F",SelTpProt(),.T.)
lRet :=  if(cSituacao == cSitPrt ,SelTpProt(),.T.)

RETURN (lRet)



//控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控?
//控矬闡闡闡闡鐃闡闡闡闡闡闡薩闡闡闡薩闡闡闡闡闡闡闡闡闡闡鐃闡闡闡薩闡闡闡闡闡闡闡闡闡膨?
//控蚶un��o    蛄rvTpPrt    ?Autor ?Wanderley Monteiro   ?Data ?05.01.2012        陰?
//控藥闡闡闡闡霰闡闡闡闡闡闡謐闡闡闡謐闡闡闡闡闡闡闡闡闡闡鐘闡闡闡謐闡闡闡闡闡闡闡闡闡敢?
//控蛇escri��o ?Grava o Tipo de protesto selecionado.                                陰?
//控?         ?                                                                     陰?
//控藥闡闡闡闡霰闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡敢?
//控袒etorno   ?T. ou .F.                                                            陰?
//控藥闡闡闡闡霰闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡敢?
//控?Uso      ?ponto de entrada FA060TRAN - FINA060                                 陰?
//控斂闡闡闡闡鐘闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡棱?
//控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控?
//葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔?

User function GrvTpPrt()

RecLock("SE1", .F.)
	SE1->E1_XCODPRT := cSF7_TpPrt
	SE1->E1_XDESCPR := Posicione("SX5",1,xFilial("SX5")+"P2"+cSF7_TpPrt,"X5_DESCRI")
MsUnLock()

RETURN (.T.)


//控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控?
//控矬闡闡闡闡鐃闡闡闡闡闡闡薩闡闡闡薩闡闡闡闡闡闡闡闡闡闡鐃闡闡闡薩闡闡闡闡闡闡闡闡闡膨?
//控蚶un��o    袖elTpProt   ?Autor ?Wanderley Monteiro   ?Data ?05.01.2012        陰?
//控藥闡闡闡闡霰闡闡闡闡闡闡謐闡闡闡謐闡闡闡闡闡闡闡闡闡闡鐘闡闡闡謐闡闡闡闡闡闡闡闡闡敢?
//控蛇escri��o ?Seleciona o tipo de Protesto de um t癃ulo                            陰?
//控藥闡闡闡闡霰闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡敢?
//控袒etorno   ?T. ou .F.                                                            陰?
//控藥闡闡闡闡霰闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡敢?
//控?Uso      蛀specifico CNI                                                        陰?
//控斂闡闡闡闡鐘闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡闡棱?
//控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控?
//葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔?

Static Function SelTpProt()
Local cPerg := "SIFI07"
lRet := .T.

AjustaSX1(cPerg)

If Pergunte(cPerg , .T. ,,.T.)
   cSF7_TpPrt:= MV_PAR01
Endif

Return lRet

/*
嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈嗈?
控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控?
控奼迋迋迋迋迕迋迋迋迋迋冞迋迋迋敊迋迋迋迋迋迋迋迋迋豖迋迋迋敊迋迋迋迋迋迋跼?
控摧otina    ?AjustaSX1?Autor ?Wanderley Monteiro ?Data ? 03/01/12   滷?
控昅迋迋迋迋阹迋迋迋迋迋庋迋迋迋玵迋迋迋迋迋迋迋迋迋虮迋迋迋玵迋迋迋迋迋迋僚?
控慣escricao ?Ajusta as perguntas do SX1                                 滷?
控昅迋迋迋迋阹迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋僚?
控摻so       ?C.N.I.                                                     滷?
控￢迋迋迋迋迍迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋迋摹?
控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控控?
葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔葔?
*/
Static Function AjustaSX1(cPerg)
Local aP := {}
Local i := 0
Local cSeq
Local cMvCh
Local cMvPar
Local aHelp := {}
Local aArea := GetArea()

/*
Caracter疄tica do vetor p/ utiliza誽o da fun誽o SX1
---------------------------------------------------
[n,1] --> texto da pergunta
[n,2] --> tipo do dado
[n,3] --> tamanho
[n,4] --> decimal
[n,5] --> objeto G=get ou C=choice
[n,6] --> validacao
[n,7] --> F3
[n,8] --> definicao 1
[n,9] --> definicao 2
[n,10] -> definicao 3
[n,11] -> definicao 4
[n,12] -> definicao 5
*/

aAdd(aP,{"Tipo de protesto ?"   , "C" , 3  , 0 , "G" , "" , "P2"  , ""       ,""        , ""      , "" , "" }) // MV_PAR01

aAdd(aHelp,{"Informe o tipo de protesto. Preencher o par滵etro 'Tipo de Protesto' via tecla [F3]"})

For i := 1 To Len(aP)
	cSeq   := StrZero(i,2,0)
	cMvPar := "mv_par"+cSeq
	cMvCh  := "mv_ch"+IIF(i<=9,Chr(i+48),Chr(i+87))

	u_SFPUTSX1(cPerg,;
	cSeq,;
	aP[i,1],aP[i,1],aP[i,1],;
	cMvCh,;
	aP[i,2],;
	aP[i,3],;
	aP[i,4],;
	0,;
	aP[i,5],;
	aP[i,6],;
	aP[i,7],;
	"",;
	"",;
	cMvPar,;
	aP[i,8],aP[i,8],aP[i,8],;
	"",;
	aP[i,9],aP[i,9],aP[i,9],;
	aP[i,10],aP[i,10],aP[i,10],;
	aP[i,11],aP[i,11],aP[i,11],;
	aP[i,12],aP[i,12],aP[i,12],;
	aHelp[i],;
	{},;
	{},;
	"")

Next i
RestArea(aArea)
Return