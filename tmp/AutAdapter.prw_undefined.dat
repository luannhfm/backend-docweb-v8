#include 'totvs.ch'
#include 'parmtype.ch'

/*/{Protheus.doc} AutAdapter
Classe Adapter para o serviço
@author  Walmir Junior
@since   01/09/2020
@version 1.0
/*/

CLASS AutAdapter FROM FWAdapterBaseV2
	METHOD New()
	METHOD AutenticAD()
EndClass
//-------------------------------------------------------------------
/*/{Protheus.doc} New
Método construtor
@param cVerb, verbo HTTP utilizado
@author  Walmir Junior
@since   01/09/2020
@version 1.0
/*/
//-------------------------------------------------------------------
Method New( cVerb ) CLASS AutAdapter
	_Super:New( cVerb, .T. )
return
//-------------------------------------------------------------------
/*/{Protheus.doc} AutenticAD
Método que retorna um json
@author  Walmir Junior
@since   01/09/2020
@version 1.0
/*/
//-------------------------------------------------------------------
Method AutenticAD(_oSelf) CLASS AutAdapter
Local _lRet := .T.
Local _cBdyJson := _oSelf:GetContent()
Local _cJSON    := '{"itens":[{"info":"NÃO AUTENTICOU"}]}'


PswOrder(1)
If PswSeek('001019') .And. PswName('absolut4')
    _cJSON    := '{"itens":[{"id":' + ::aURLParms[1] + ',"codusr":"000001","nome":"Joao Teste do Meu App","login":"joao.teste", "info":"INFORMACAO DO PROTHEUS"}]}'
EndIf
::SetResponse(_cJSON)
	

Return _lRet
