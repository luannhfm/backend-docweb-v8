#Include "Protheus.ch"

/*
ÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜ
±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±
±±ÉÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍËÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍËÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍ»±±
±±ºPrograma  ³SICOMA10  ºAutor  ³Microsiga           º Data ³  20/10/11   º±±
±±ÌÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÊÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÊÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍ¹±±
±±ºDesc.     ³ Ponto de Entrada para manipulacao dos dados bancarios da   º±±
±±º          ³ nota fiscal de entrada                                     º±±
±±ÌÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹±±
±±ºUso       ³ P11 - Sistema Industria                                    º±±
±±ÈÍÍÍÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼±±
±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±
ßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßß
Alterado Edmar Tinti - Doit Sistemas - 07/03/14
*/

User Function SICOMA10()
Local lAltBco	:= GetNewPar("SI_ALTBCO",.T.)
Local oDlg 		:= Nil
Local oBanco	:= Nil
Local oAgencia	:= Nil
Local oDVAge	:= Nil
Local oConta	:= Nil
Local oDVCta	:= Nil
Local lUpdate   := .F.

Private cBanco 	:= SA2->A2_BANCO 
Private cAgencia:= SA2->A2_AGENCIA
Private cConta 	:= SA2->A2_NUMCON
Private cDVAge	:= SA2->A2_XDVAGE
Private cDVCta	:= SA2->A2_XDVCTA

If INCLUI .Or. ALTERA
	
	DEFINE MSDIALOG oDlg FROM 0,0 TO 90,670 PIXEL TITLE "Dados Bancários"
	
	@ 001,003 TO 040,330 LABEL "" OF oDlg PIXEL
	
	@ 10, 10 SAY "Banco:" SIZE 45,8 PIXEL OF oDlg
	@ 10, 30 MSGET oBanco VAR cBanco PICTURE PesqPict("SE2","E2_XBANCO") F3 CpoRetF3('E2_XBANCO') SIZE 30,10 WHEN lUpdate PIXEL OF oDlg
	
	@ 10, 70 SAY "Agencia:" SIZE 45,8 PIXEL OF oDlg
	@ 10, 95 MSGET oAgencia VAR cAgencia PICTURE PesqPict("SE2","E2_XAGENC") F3 CpoRetF3('E2_XAGENC') SIZE 35,10 WHEN lUpdate PIXEL OF oDlg 

	@ 10, 140 SAY "DV Agencia:" SIZE 45,8 PIXEL OF oDlg
	@ 10, 175 MSGET oDVAge VAR cDVAge PICTURE PesqPict("SE2","E2_XDVAGE") SIZE 15,10 WHEN lUpdate PIXEL OF oDlg	
	
	@ 10, 200 SAY "Conta:" SIZE 45,8 PIXEL OF oDlg
	@ 10, 220 MSGET oConta VAR cConta PICTURE PesqPict("SE2","E2_XNUMCON") F3 CpoRetF3('E2_XNUMCON') SIZE 35,10 WHEN lUpdate PIXEL OF oDlg
	
	@ 10, 270 SAY "DV Conta:" SIZE 45,8 PIXEL OF oDlg
	@ 10, 300 MSGET oDVCta VAR cDVCta PICTURE PesqPict("SE2","E2_XDVCTA") SIZE 15,10 WHEN lUpdate PIXEL OF oDlg
	
	DEFINE SBUTTON FROM 025,290 TYPE 1 OF oDlg ENABLE ONSTOP "OK" ACTION (oDlg:End())
	
	ACTIVATE MSDIALOG oDlg CENTER
	
	If lUpdate .And. lAltBco
		RecLock("SF1",.F.)
		F1_XBANCO 	:= cBanco
		F1_XAGENC 	:= cAgencia
		F1_XDVAGE 	:= cDVAge
		F1_XNUMCON 	:= cConta
		F1_XDVCTA 	:= cDVCta
		MsUnLock()
	Endif	
	
EndIf

Return(lUpdate)
