#include 'protheus.ch'
#include 'parmtype.ch'
#Include 'FWMVCDEF.CH'

//PUBLISH USER MODEL REST NAME SF0203S source SF0203S

user function SF0203S()

Local oBrowse
	
	oBrowse:= FWMBrowse():New()
	oBrowse:SetAlias('ZDG')
	oBrowse:SetDescription('Area de Atuacao')
	oBrowse:AddLegend("ZDG_ATIVO=='A'","GREEN" ,"Ativo")
	oBrowse:AddLegend("ZDG_ATIVO=='I'","RED"   ,"Inativo")
	oBrowse:Activate()
	
Return Nil

Static Function MenuDef()
	
	Local aRotina := {}

	ADD OPTION aRotina Title 'Visualizar' Action 'VIEWDEF.SF0203S' OPERATION 2 ACCESS 0
	ADD OPTION aRotina Title 'Incluir'    Action 'VIEWDEF.SF0203S' OPERATION 3 ACCESS 0
	ADD OPTION aRotina Title 'Alterar'    Action 'VIEWDEF.SF0203S' OPERATION 4 ACCESS 0
	ADD OPTION aRotina Title 'Excluir'    Action 'VIEWDEF.SF0203S' OPERATION 5 ACCESS 0
	ADD OPTION aRotina Title 'Imprimir'   Action 'VIEWDEF.SF0203S' OPERATION 8 ACCESS 0
	ADD OPTION aRotina Title 'Copiar'     Action 'VIEWDEF.SF0203S' OPERATION 9 ACCESS 0

Return aRotina

Static Function ModelDef()
	
	Local oStruZDG := FWFormStruct(1,'ZDG')
	Local oModel

	oModel := MPFormModel():New('SF0203SM')
	oModel:AddFields('ZDGMASTER',/*cOwner*/,oStruZDG)
	oModel:SetDescription('Area de Atua√ßao')
	oModel:GetModel('ZDGMASTER'):SetDescription('Cadastro Area de Atuacao')
	oModel:SetPrimaryKey({"ZDG_FILIAL","ZDG_CODIGO"})

Return oModel

Static Function ViewDef()
	
	Local oModel := FWloadModel('SF0203S')
	Local oStruZDG := FWFormStruct(2,'ZDG')
	Local oView := FWFormView():New()

	oView:SetModel(oModel)
	oView:AddField('VIEW_ZDG',oStruZDG,'ZDGMASTER')
	oView:CreateHorizontalBox('TELA',100)
	oView:SetOwnerView('VIEW_ZDG', 'TELA')

Return oView
	
