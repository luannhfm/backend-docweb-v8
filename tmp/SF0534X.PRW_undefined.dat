#INCLUDE 'PROTHEUS.CH'
#INCLUDE 'FWMVCDEF.CH' 
#INCLUDE 'TOPCONN.CH' 

/*/{Protheus.doc} SF0534X
(long_description)
@author j2a.luizjunior
@since 27/02/2018
@version 1.0
@example
(examples)
@see (links_or_references)
/*/

User Function SF0534X

	Local cEstat := U_SFGN001A(ProcName(0), "SF0534X")
	Local   oBrowse      := Nil
	Local   aRotina      := {}
		
	//Private cCodigo := ""                                        
	//-> Instanciamento da Classe de Browse
	oBrowse := FWMBrowse():New()
	        
	//-> Definição da tabela do Browse
	oBrowse:SetAlias("ZH7")
	oBrowse:SetMenuDef("SF0534X")
	        
	// Titulo da Browse
	oBrowse:SetDescription("Orçamentos Excluidos")
	
	aRotina := MenuDef()
	        
	// Ativação da Classe
	oBrowse:Activate()

Return Nil 

/*/{Protheus.doc} MenuDef
(long_description)
@author j2a.luizjunior
@since 27/02/2018
@version 1.0
@example
(examples)
@see (links_or_references)
/*/

Static Function MenuDef()

	Local cEstat := U_SFGN001A(ProcName(0), "SF0534X")
	Local aRotina := {}
	
	ADD OPTION aRotina Title "Pesquisar"  Action "PesqBrw"         OPERATION 1 ACCESS 0
	ADD OPTION aRotina Title "Visualizar" Action "ViewDef.SF0534X" OPERATION 2 ACCESS 0
 
Return(aRotina)

/*/{Protheus.doc} ModelDef
(long_description)
@author j2a.luizjunior
@since 27/02/2018
@version 1.0
@example
(examples)
@see (links_or_references)
/*/

Static Function ModelDef()

	Local cEstat := U_SFGN001A(ProcName(0), "SF0534X")																	                           
	Local oStruZH7 := FWFormStruct(1,"ZH7") 
	Local oModel   := MPFormModel():New("F0534X")
	
	oModel:AddFields("ZH7UNICO",Nil,oStruZH7)
	oModel:SetDescription("Orçamentos Excluidos")
	oModel:GetModel("ZH7UNICO"):SetDescription("Orçamentos Excluidos")      
	oModel:SetPrimaryKey({"ZH7_FILIAL","ZH7_NUMORC","ZH7_NUMNOT","ZH7_SERIE","ZH7_ITEM"})

Return(oModel)

/*/{Protheus.doc} ViewDef
(long_description)
@author j2a.luizjunior
@since 27/02/2018
@version 1.0
@example
(examples)
@see (links_or_references)
/*/

Static Function ViewDef()

	Local cEstat := U_SFGN001A(ProcName(0), "SF0534X")
	Local oModel   := FWLoadModel("SF0534X")
	Local oStruZH7 := FWFormStruct(2,"ZH7")
	Local oView	   := FWFormView():New()
	
	oView:SetModel(oModel)
	oView:AddField("VIEW_ZH7", oStruZH7, "ZH7UNICO")
	oView:CreateHorizontalBox("UM", 100)
	oView:SetOwnerView("VIEW_ZH7" , "UM")

Return(oView)